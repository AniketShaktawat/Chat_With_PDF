{"ast":null,"code":"import React, { useEffect, useState } from 'react';\nimport { useTimeElapsed } from '../../MessageInput/hooks/useTimeElapsed';\nimport { useMessageInputContext } from '../../../context';\nimport { RecordingTimer } from './RecordingTimer';\nvar AudioRecordingWaveform = function (_a) {\n  var _b = _a.maxDataPointsDrawn,\n    maxDataPointsDrawn = _b === void 0 ? 100 : _b;\n  var recorder = useMessageInputContext().recordingController.recorder;\n  var _c = useState([]),\n    amplitudes = _c[0],\n    setAmplitudes = _c[1];\n  useEffect(function () {\n    if (!(recorder === null || recorder === void 0 ? void 0 : recorder.amplitudeRecorder)) return;\n    var amplitudesSubscription = recorder.amplitudeRecorder.amplitudes.subscribe(setAmplitudes);\n    return function () {\n      amplitudesSubscription.unsubscribe();\n    };\n  }, [recorder]);\n  if (!recorder) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__audio_recorder__waveform-box'\n  }, amplitudes.slice(-maxDataPointsDrawn).map(function (amplitude, i) {\n    return React.createElement(\"div\", {\n      className: 'str-chat__wave-progress-bar__amplitude-bar',\n      key: \"amplitude-\".concat(i, \"-voice-recording\"),\n      style: {\n        '--str-chat__wave-progress-bar__amplitude-bar-height': amplitude ? amplitude * 100 + '%' : '0%'\n      }\n    });\n  }));\n};\nexport var AudioRecordingInProgress = function () {\n  var _a = useTimeElapsed(),\n    secondsElapsed = _a.secondsElapsed,\n    startCounter = _a.startCounter,\n    stopCounter = _a.stopCounter;\n  var recorder = useMessageInputContext().recordingController.recorder;\n  useEffect(function () {\n    if (!(recorder === null || recorder === void 0 ? void 0 : recorder.mediaRecorder)) return;\n    var mediaRecorder = recorder.mediaRecorder;\n    mediaRecorder.addEventListener('start', startCounter);\n    mediaRecorder.addEventListener('resume', startCounter);\n    mediaRecorder.addEventListener('stop', stopCounter);\n    mediaRecorder.addEventListener('pause', stopCounter);\n    return function () {\n      mediaRecorder.removeEventListener('start', startCounter);\n      mediaRecorder.removeEventListener('resume', startCounter);\n      mediaRecorder.removeEventListener('stop', stopCounter);\n      mediaRecorder.removeEventListener('pause', stopCounter);\n    };\n  }, [recorder, startCounter, stopCounter]);\n  return React.createElement(React.Fragment, null, React.createElement(RecordingTimer, {\n    durationSeconds: secondsElapsed\n  }), React.createElement(\"div\", {\n    className: 'str-chat__waveform-box-container'\n  }, React.createElement(AudioRecordingWaveform, null)));\n};","map":{"version":3,"names":["React","useEffect","useState","useTimeElapsed","useMessageInputContext","RecordingTimer","AudioRecordingWaveform","_a","_b","maxDataPointsDrawn","recorder","recordingController","_c","amplitudes","setAmplitudes","amplitudeRecorder","amplitudesSubscription","subscribe","unsubscribe","createElement","className","slice","map","amplitude","i","key","concat","style","AudioRecordingInProgress","secondsElapsed","startCounter","stopCounter","mediaRecorder","addEventListener","removeEventListener","Fragment","durationSeconds"],"sources":["C:/Users/Aniket/Desktop/MS/NCSU/Subjects/Infinitus/chatgpt-pdf-app/node_modules/stream-chat-react/dist/components/MediaRecorder/AudioRecorder/AudioRecordingInProgress.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useTimeElapsed } from '../../MessageInput/hooks/useTimeElapsed';\nimport { useMessageInputContext } from '../../../context';\nimport { RecordingTimer } from './RecordingTimer';\nvar AudioRecordingWaveform = function (_a) {\n    var _b = _a.maxDataPointsDrawn, maxDataPointsDrawn = _b === void 0 ? 100 : _b;\n    var recorder = useMessageInputContext().recordingController.recorder;\n    var _c = useState([]), amplitudes = _c[0], setAmplitudes = _c[1];\n    useEffect(function () {\n        if (!(recorder === null || recorder === void 0 ? void 0 : recorder.amplitudeRecorder))\n            return;\n        var amplitudesSubscription = recorder.amplitudeRecorder.amplitudes.subscribe(setAmplitudes);\n        return function () {\n            amplitudesSubscription.unsubscribe();\n        };\n    }, [recorder]);\n    if (!recorder)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__audio_recorder__waveform-box' }, amplitudes.slice(-maxDataPointsDrawn).map(function (amplitude, i) { return (React.createElement(\"div\", { className: 'str-chat__wave-progress-bar__amplitude-bar', key: \"amplitude-\".concat(i, \"-voice-recording\"), style: {\n            '--str-chat__wave-progress-bar__amplitude-bar-height': amplitude\n                ? amplitude * 100 + '%'\n                : '0%',\n        } })); })));\n};\nexport var AudioRecordingInProgress = function () {\n    var _a = useTimeElapsed(), secondsElapsed = _a.secondsElapsed, startCounter = _a.startCounter, stopCounter = _a.stopCounter;\n    var recorder = useMessageInputContext().recordingController.recorder;\n    useEffect(function () {\n        if (!(recorder === null || recorder === void 0 ? void 0 : recorder.mediaRecorder))\n            return;\n        var mediaRecorder = recorder.mediaRecorder;\n        mediaRecorder.addEventListener('start', startCounter);\n        mediaRecorder.addEventListener('resume', startCounter);\n        mediaRecorder.addEventListener('stop', stopCounter);\n        mediaRecorder.addEventListener('pause', stopCounter);\n        return function () {\n            mediaRecorder.removeEventListener('start', startCounter);\n            mediaRecorder.removeEventListener('resume', startCounter);\n            mediaRecorder.removeEventListener('stop', stopCounter);\n            mediaRecorder.removeEventListener('pause', stopCounter);\n        };\n    }, [recorder, startCounter, stopCounter]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(RecordingTimer, { durationSeconds: secondsElapsed }),\n        React.createElement(\"div\", { className: 'str-chat__waveform-box-container' },\n            React.createElement(AudioRecordingWaveform, null))));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}